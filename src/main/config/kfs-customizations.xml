<?xml version="1.0" encoding="UTF-8"?>
 
<databaseChangeLog 
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">

  <preConditions>
    <dbms type="oracle" />
  </preConditions>
  
  <!--
    A changeset that just establishes the initial state of the DB as "pre-cu-kfs-customizations"
    for record-keeping purposes
  -->
  <changeSet id="tag-kfs-pre-cu-customizations" author="release" context="customizations">
      <tagDatabase tag="tag-kfs-pre-cu-customizations"/>
  </changeSet>

  <changeSet author="kwk43" id="KITI-327-SubFundProgram-Tables" context="customizations">
    <comment>
      This adds the tables required for the subfundprogram customization
    </comment>
    <sql stripComments="true">
      CREATE TABLE CA_ACCOUNT_TX( 
        FIN_COA_CD VARCHAR(2) NOT NULL, 
        ACCOUNT_NBR VARCHAR(7) NOT NULL, 
        OBJ_ID VARCHAR(36) NOT NULL, 
        VER_NBR DECIMAL(8,0) DEFAULT 1 NOT NULL, 
        PROGRAM_CD VARCHAR(6), 
        SUB_FUND_GRP_CD VARCHAR(6), 
      CONSTRAINT CA_ACCOUNT_TXP1 PRIMARY KEY ( 
        FIN_COA_CD, 
        ACCOUNT_NBR)
      );
      CREATE TABLE CA_SUB_FUND_PROGRAM_TC( 
        OBJ_ID VARCHAR(36) NOT NULL, 
        VER_NBR DECIMAL(8,0) DEFAULT 1 NOT NULL, 
        PROGRAM_CD VARCHAR(6), 
        PROGRAM_NM VARCHAR(20), 
        PROGRAM_DESC VARCHAR(40), 
        SUB_FUND_GRP_CD VARCHAR(6), 
        ROW_ACTV_IND VARCHAR(1), 
      CONSTRAINT CA_SUB_FUND_PGM_TP1 PRIMARY KEY ( 
        PROGRAM_CD, 
        SUB_FUND_GRP_CD) 
      );
    </sql>
  </changeSet>
</databaseChangeLog>